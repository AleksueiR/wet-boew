/*! http://mths.be/details v0.1.0 by @mathias | includes http://mths.be/noselect v1.0.3 */
(function(e,t){var i,n=t.fn,a="[object Opera]"==Object.prototype.toString.call(window.opera),o=function(e){var t,i,n,a=e.createElement("details");return"open"in a?(i=e.body||function(){var i=e.documentElement;return t=!0,i.insertBefore(e.createElement("body"),i.firstElementChild||i.firstChild)}(),a.innerHTML="<summary>a</summary>b",a.style.display="block",i.appendChild(a),n=a.offsetHeight,a.open=!0,n=n!=a.offsetHeight,i.removeChild(a),t&&i.parentNode.removeChild(i),n):!1}(e),s=function(e,t,i,n){var a=e.prop("open"),o=a&&n||!a&&!n;o?(e.removeClass("open").prop("open",!1).triggerHandler("close.details"),t.attr("aria-expanded",!1),i.hide()):(e.addClass("open").prop("open",!0).triggerHandler("open.details"),t.attr("aria-expanded",!0),i.show())};n.noSelect=function(){var e="none";return this.bind("selectstart dragstart mousedown",function(){return!1}).css({MozUserSelect:e,msUserSelect:e,webkitUserSelect:e,userSelect:e})},o?(i=n.details=function(){return this.each(function(){var e=t(this),i=t("summary",e).first();i.attr({role:"button","aria-expanded":e.prop("open")}).on("click",function(){var t=e.prop("open");i.attr("aria-expanded",!t),e.triggerHandler((t?"close":"open")+".details")})})},i.support=o):(i=n.details=function(){return this.each(function(){var e=t(this),i=t("summary",e).first(),n=e.children(":not(summary)"),o=e.contents(":not(summary)");i.length||(i=t("<summary>").text("Details").prependTo(e)),n.length!=o.length&&(o.filter(function(){return 3==this.nodeType&&/[^ \t\n\f\r]/.test(this.data)}).wrap("<span>"),n=e.children(":not(summary)")),e.prop("open","string"==typeof e.attr("open")),s(e,i,n),i.attr("role","button").noSelect().prop("tabIndex",0).on("click",function(){i.focus(),s(e,i,n,!0)}).keyup(function(e){(32==e.keyCode||13==e.keyCode&&!a)&&(e.preventDefault(),i.click())})})},i.support=o)})(document,jQuery);