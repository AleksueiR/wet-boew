function makeMeter(e){function t(t,i){return null!==e.getAttribute(t)?e.getAttribute(t):i?i:null}function i(t){var i,n=e.className.split(" ");if(0===n.length)return e.className=t,void 0;for(i in n)if(t===i)return;n.push(t),e.className=n.join(" ")}function n(t){for(var i=e.className.split(" "),n=i.length;n--;)if(i[n]===t){i.splice(n,1);break}e.className=i.join(" ")}function a(){for(var t=e;t.parent&&"form"!==t.parent.tagName.toLowerCase();)t=t.parent;return"form"===t.tagName.toLowerCase()?t:null}function o(){var t,i,n=e.id,a=[];if(null===n||null===this.form)return null;t=this.form.getElementsByTagName("label");for(i in t)i["for"]===n&&a.push(i);return a.length>0?a:null}var s,r;this.min=parseFloat(null!==t("min")?t("min"):0),this.max=parseFloat(null!==t("max")?t("max"):0),this.high=parseFloat(t("high")),this.low=parseFloat(t("low")),this.optimum=parseFloat(t("optimum")),this.value=null!==t("value")?parseFloat(t("value")):e.textContent?e.textContent:e.innerText,e.textContent?e.textContent="":e.innerText&&(e.innerText=""),this.title=null!==t("title")?t("title"):this.value,this.form=a(),this.labels=o(),this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),null!==this.low&&this.low<this.min&&(this.low=this.min),null!==this.high&&this.high>this.max&&(this.high=this.max),s=0===e.children.length?document.createElement("div"):e.children[0],r=e.offsetWidth,r*=(this.value-this.min)/(this.max-this.min),s.style.width=Math.ceil(r)+"px",this.high&&this.value>=this.high?i("meterValueTooHigh"):this.low&&this.value<=this.low?i("meterValueTooLow"):(n("meterValueTooHigh"),n("meterValueTooLow")),this.value>=this.max?i("meterIsMaxed"):n("meterIsMaxed"),e.title=this.title,0===e.children.length&&e.appendChild(s)}document.createElement("meter");for(var meters=document.getElementsByTagName("meter"),i=meters.length;i--;)makeMeter(meters[i]);